# –°—É—â–Ω–æ—Å—Ç–∏

# **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

–†–∞–∑–æ–±—å—ë–º –∏—Ö –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏:

---

## 1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string (uuid) | Primary Key |
| `email` | string | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π email |
| `password_hash` | string | –•—ç—à –ø–∞—Ä–æ–ª—è |
| `password_salt` | string | –°–æ–ª—å |
| `language` | string | –ù–∞–ø—Ä–∏–º–µ—Ä `en`, `ru`, `el` |
| `timezone` | string | –î–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| `onboarding_done` | boolean | –ó–∞–≤–µ—Ä—à–∏–ª –ª–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ |
| `created_at` | datetime | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |

---

## ‚úùÔ∏è 2. **–ê–ø–æ—Å—Ç–æ–ª (Apostle)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `name` | string | –ò–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ò–æ–∞–Ω–Ω") |
| `alias` | string | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Å–µ–≤–¥–æ–Ω–∏–º (`"john"`) |
| `virtue` | string | –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–±—Ä–æ–¥–µ—Ç–µ–ª—å |
| `archetype` | string | –¢–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏ / –∞—Ä—Ö–µ—Ç–∏–ø |
| `voice_model_id` | string | ID –≤ ElevenLabs |
| `description` | text | –û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ |

> üí° –ê–ø–æ—Å—Ç–æ–ª ‚Äî —ç—Ç–æ –∞—Ä—Ö–µ—Ç–∏–ø –∏ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞–ø—Ä—è–º—É—é. –ò—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ 12, –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ –±—É–¥—É—â–µ–º.
> 

---

## üîó 3. **–°–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–ø–æ—Å—Ç–æ–ª–æ–º (UserApostle)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string | FK ‚Üí User |
| `apostle_id` | string | FK ‚Üí Apostle |
| `started_at` | datetime | –ö–æ–≥–¥–∞ –Ω–∞—á–∞–ª–æ—Å—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ |
| `relationship_level` | int | –£—Ä–æ–≤–µ–Ω—å —Å–≤—è–∑–∏ / –±–ª–∏–∑–æ—Å—Ç–∏ |

> –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, —Å –∫–∞–∫–∏–º–∏ –∞–ø–æ—Å—Ç–æ–ª–∞–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
> 

---

## üîÅ 4. **–ü—É—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (TransformationPath)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `apostle_id` | string? | FK ‚Üí Apostle (–º–æ–∂–µ—Ç –±—ã—Ç—å null ‚Äî –æ–±—â–∏–π) |
| `title` | string | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–°–∏–ª–∞ —Ç–∏—à–∏–Ω—ã‚Äù) |
| `type` | enum | `base`, `apostolic`, `post_path` |
| `duration_weeks` | int | –°–∫–æ–ª—å–∫–æ –Ω–µ–¥–µ–ª—å |
| `description` | text | –û–±—â–∞—è —Å—É—Ç—å –ø—É—Ç–∏ |

> –û–¥–∏–Ω –∞–ø–æ—Å—Ç–æ–ª –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—É—Ç–µ–π. –ï—Å—Ç—å –æ–±—â–∏–π 12-–Ω–µ–¥–µ–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π –ø—É—Ç—å –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∞–ø–æ—Å—Ç–æ–ª—É.
> 

---

## ‚úÖ 5. **–®–∞–≥–∏ –ø—É—Ç–∏ (PathStep)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `path_id` | string | FK ‚Üí TransformationPath |
| `order` | int | –ü–æ—Ä—è–¥–æ–∫ –≤ –ø—É—Ç–∏ |
| `title` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–≥–∞ |
| `description` | text | –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è |
| `type` | enum | `task`, `reflection`, `ritual`, `text` |
| `scripture_ref` | string? | –ë–∏–±–ª–µ–π—Å–∫–∞—è –æ—Ç—Å—ã–ª–∫–∞ |
| `is_optional` | boolean | –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å |

---

## üìö 6. **–ö–æ–Ω—Ç–µ–Ω—Ç —à–∞–≥–∞ (ContentBlock)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `step_id` | string | FK ‚Üí PathStep |
| `title` | string | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–∫—Å—Ç–∞ |
| `content` | text | –°–∞–º —Ç–µ–∫—Å—Ç |
| `type` | enum | `explanation`, `quote`, `poem`, `link` |

---

## üìä 7. **–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (UserProgress)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string | FK ‚Üí User |
| `path_id` | string | FK ‚Üí TransformationPath |
| `current_step` | int | –¢–µ–∫—É—â–∏–π —à–∞–≥ |
| `completed_steps` | int[] | –ú–∞—Å—Å–∏–≤ ID –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —à–∞–≥–æ–≤ |
| `started_at` | datetime | –ö–æ–≥–¥–∞ –Ω–∞—á–∞–ª –ø—É—Ç—å |
| `finished_at` | datetime? | –ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª –ø—É—Ç—å (–µ—Å–ª–∏ –ø—Ä–æ—à—ë–ª) |

---

## üìñ 8. **–ñ—É—Ä–Ω–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è / –ß–∞—Ç—ã (JournalEntry)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string | FK ‚Üí User |
| `apostle_id` | string | FK ‚Üí Apostle |
| `content` | text | –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `reply` | text | –û—Ç–≤–µ—Ç –∞–ø–æ—Å—Ç–æ–ª–∞ (AI) |
| `type` | enum | `reflection`, `practice`, `support`, `qa` |
| `created_at` | datetime |  |

---

## üìÖ 9. **–ü–æ—Å—Ç-–ø—É—Ç—å (PostPathActivity)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string | FK ‚Üí User |
| `apostle_id` | string | FK ‚Üí Apostle |
| `date` | date | –î–∞—Ç–∞ –∑–∞–¥–∞–Ω–∏—è |
| `content` | text | –ü–æ—Å–ª–∞–Ω–∏–µ / –∑–∞–¥–∞–Ω–∏–µ |
| `completed` | boolean | –í—ã–ø–æ–ª–Ω–∏–ª –ª–∏ |

---

## üí∞ 10. **–ü–æ–¥–ø–∏—Å–∫–∞ (Subscription)**

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `user_id` | string | FK ‚Üí User |
| `status` | enum | `active`, `trial`, `expired` |
| `started_at` | datetime |  |
| `ends_at` | datetime |  |
| `type` | enum | `monthly`, `lifetime` |

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

## **1. –î–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤**

### üß± `ScriptureReference`

–ü–æ–∑–≤–æ–ª–∏—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç—Ä—ã–≤–∫–∞–º–∏ –∏–∑ —Å–≤—è—Ç—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤, —Ü–∏—Ç–∞—Ç–∞–º–∏, –∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `book` | string | –ö–Ω–∏–≥–∞ (–Ω–∞–ø—Ä. ‚Äú–ú–∞—Ç—Ñ–µ—è‚Äù) |
| `chapter` | int | –ì–ª–∞–≤–∞ |
| `verse` | string | –°—Ç–∏—Ö –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω (‚Äú5:9‚Äì10‚Äù) |
| `text` | text | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
| `language` | string | –Ø–∑—ã–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ |

> –ü–æ—Ç–æ–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å—Å—ã–ª–∫—É –∏–∑ PathStep –∏–ª–∏ JournalReply –Ω–∞ —ç—Ç–æ—Ç –æ—Ç—Ä—ã–≤–æ–∫.
> 

---

### ‚úçÔ∏è `Annotation` (–ø—Ä–∏–º–µ—á–∞–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—ã –∞–ø–æ—Å—Ç–æ–ª–æ–≤)

–ü–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–∏—Å–∞—Ç—å –º—ã—Å–ª–∏ –Ω–∞ –∑–∞–¥–∞–Ω–∏—è, –∞ –∞–ø–æ—Å—Ç–æ–ª –º–æ–∂–µ—Ç "—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ –Ω–∏—Ö.

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string | FK ‚Üí User |
| `step_id` | string | FK ‚Üí PathStep |
| `note` | text | –ó–∞–º–µ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `reply` | text | –û—Ç–≤–µ—Ç –æ—Ç –∞–ø–æ—Å—Ç–æ–ª–∞ (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) |

---

### üóÇÔ∏è `Tag`

–î–æ–±–∞–≤–ª—è–µ—Ç –≥–∏–±–∫—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—é –ø—É—Ç–µ–π, –ø—Ä–∞–∫—Ç–∏–∫, –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `label` | string | –ù–∞–ø—Ä–∏–º–µ—Ä ‚Äú–º–æ–ª—á–∞–Ω–∏–µ‚Äù, ‚Äú–≤–µ—Ä–∞‚Äù |

---

## üå± **2. –î–ª—è —Ä–æ—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –º–µ—Ç—Ä–∏–∫**

### üí° `VirtueScore`

–¢—Ä–µ–∫–µ—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–æ–±—Ä–æ–¥–µ—Ç–µ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∞–ø–æ—Å—Ç–æ–ª–∞–º.

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string | FK ‚Üí User |
| `apostle_id` | string | FK ‚Üí Apostle |
| `virtue` | string | –ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—Ç–µ—Ä–ø–µ–Ω–∏–µ") |
| `score` | int | –û—Ç 0 –¥–æ 100 |
| `updated_at` | datetime | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

---

### üß≠ `Milestone`

–û–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ ‚Äú–≤–µ—Ö–∏‚Äù –≤ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ, –∫–æ—Ç–æ—Ä—ã–µ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è, –ø–∏—Å—å–º–∞, –¥–æ—Å—Ç—É–ø –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º.

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string | FK ‚Üí User |
| `name` | string | –ù–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–ø—Ä–æ–π–¥–µ–Ω –ø—É—Ç—å –ü–µ—Ç—Ä–∞‚Äù |
| `created_at` | datetime | –ö–æ–≥–¥–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ |

---

## üìä **3. –î–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏, A/B –∏ —Ñ–∏—á–µ–π**

### üß™ `FeatureToggle`

–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å —Ñ–∏—á–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ –∏–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `user_id` | string? | FK ‚Üí User (–µ—Å–ª–∏ null ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ) |
| `feature` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏—á–∏ |
| `enabled` | boolean | –í–∫–ª—é—á–µ–Ω–∞ –ª–∏ |

---

### üåê `LanguageContentOverride`

–ï—Å–ª–∏ —Ç—ã –±—É–¥–µ—à—å –¥–æ–±–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã, –∏ —Ö–æ—á–µ—à—å **—Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.

| –ü–æ–ª–µ | –¢–∏–ø | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| `id` | string | PK |
| `step_id` | string | FK ‚Üí PathStep |
| `language` | string | –ù–∞–ø—Ä–∏–º–µ—Ä, `en`, `ru`, `el` |
| `title` | string | –ü–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ |
| `text` | text | –ü–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è |

---

## üí° –†–µ–∑—é–º–µ

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –°—É—â–Ω–æ—Å—Ç–∏ |
| --- | --- |
| üìñ –ö–æ–Ω—Ç–µ–Ω—Ç | `ScriptureReference`, `Annotation`, `Tag` |
| üå± –†–æ—Å—Ç | `VirtueScore`, `Milestone` |
| üß™ –ì–∏–±–∫–æ—Å—Ç—å | `FeatureToggle`, `LanguageContentOverride` |